{"version":3,"sources":["js/03-promises.js"],"names":["refFirstDelay","document","querySelectorAll","refDelayStep","refAmount","refForm","querySelector","addEventListener","onFormSubmit","intervalId","numberPromises","position","event","preventDefault","amount","value","firstDelay","delayStep","i","createPromise","then","delay","console","log","catch","Promise","resolve","reject","setTimeout","Math","random"],"mappings":";AAAA,MAAMA,EAAgBC,SAASC,iBAAiB,SAAS,GACnDC,EAAeF,SAASC,iBAAiB,SAAS,GAClDE,EAAYH,SAASC,iBAAiB,SAAS,GAC/CG,EAAUJ,SAASK,cAAc,SACvCD,EAAQE,iBAAiB,SAAUC,GAEnC,IAAIC,EAAa,KACbC,EAAiB,EAEjBC,EAAWD,EAAiB,EAEhC,SAASF,EAAaI,GACpBA,EAAMC,iBACAC,MAAAA,GAAUV,EAAUW,MACtBC,IAAAA,GAAchB,EAAce,MAC5BE,GAAad,EAAaY,MACpB,IAAA,IAAIG,EAAI,EAAGA,EAAIJ,EAAQI,GAAK,EAE/BC,EAAcD,EAAE,EAAGF,GACnBI,KAAK,EAAGT,SAAAA,EAAUU,MAAAA,MACjBC,QAAQC,2BAA2BZ,QAAeU,SAEnDG,MAAM,EAAGb,SAAAA,EAAUU,MAAAA,MACpBC,QAAQC,0BAA0BZ,QAAeU,SAEhDL,GAAcC,EAQvB,SAASE,EAAeR,EAAUU,GAEzB,OAAA,IAAII,QAAQ,CAACC,EAASC,KAE3BC,WAAW,KACaC,KAAKC,SAAW,GAExCJ,EAAQ,CAACf,SAAAA,EAAUU,MAAAA,IAEnBM,EAAO,CAAChB,SAAAA,EAAUU,MAAAA,KAEfA","file":"03-promises.695acd28.js","sourceRoot":"../src","sourcesContent":["const refFirstDelay = document.querySelectorAll('input')[0];\nconst refDelayStep = document.querySelectorAll('input')[1];\nconst refAmount = document.querySelectorAll('input')[2];\nconst refForm = document.querySelector('.form');\nrefForm.addEventListener('submit', onFormSubmit);\n\nlet intervalId = null;\nlet numberPromises = 0;\n\nlet position = numberPromises + 1;\n\nfunction onFormSubmit(event) {\n  event.preventDefault()\n  const amount = +refAmount.value;\n  let firstDelay = +refFirstDelay.value;\n  let delayStep = +refDelayStep.value;\n       for (let i = 0; i < amount; i += 1) {\n         \n         createPromise(i+1, firstDelay)\n        .then(({ position, delay }) => {\n          console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        })\n        .catch(({ position, delay }) => {\n        console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n        });\n         firstDelay += delayStep;\n       }\n      \n      \n        \n  \n}\n\nfunction createPromise( position, delay ) {\n  \n  return new Promise((resolve, reject) => {\n    \n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n    resolve({position, delay});\n  } else {\n    reject({position, delay});\n  }\n    }, delay);\n    \n  })\n}\n"]}